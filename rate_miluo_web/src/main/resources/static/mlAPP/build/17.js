webpackJsonp([17],{256:function(l,n,t){"use strict";function u(l){return o._22(0,[o._18(402653184,1,{signMap:0}),(l()(),o._20(-1,null,["\n"])),(l()(),o.Z(2,0,null,null,10,"ion-header",[],null,null,null,null,null)),o.Y(3,16384,null,0,v.a,[M.a,o.j,o.z,[2,C.a]],null,null),(l()(),o._20(-1,null,["\n  "])),(l()(),o.Z(5,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Z.b,Z.a)),o.Y(6,49152,null,0,y.a,[P.a,[2,C.a],[2,j.a],M.a,o.j,o.z],null,null),(l()(),o._20(-1,3,["\n    "])),(l()(),o.Z(8,0,null,3,2,"ion-title",[],null,null,null,Y.b,Y.a)),o.Y(9,49152,null,0,I.a,[M.a,o.j,o.z,[2,z.a],[2,y.a]],null,null),(l()(),o._20(-1,0,["用户签到"])),(l()(),o._20(-1,3,["\n  "])),(l()(),o._20(-1,null,["\n"])),(l()(),o._20(-1,null,["\n\n"])),(l()(),o.Z(14,0,null,null,91,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,w.b,w.a)),o.Y(15,4374528,null,0,A.a,[M.a,x.a,L.a,o.j,o.z,P.a,S.a,o.u,[2,C.a],[2,j.a]],null,null),(l()(),o._20(-1,1,["\n  "])),(l()(),o.Z(17,0,[[1,0],["signMap",1]],1,0,"div",[["class","map"]],null,null,null,null,null)),(l()(),o._20(-1,1,["\n\n  "])),(l()(),o._20(-1,1,["\n  "])),(l()(),o.Z(20,0,null,1,72,"ion-list",[],null,null,null,null,null)),o.Y(21,16384,null,0,q.a,[M.a,o.j,o.z,x.a,O.l,L.a],null,null),(l()(),o._20(-1,null,["\n    "])),(l()(),o.Z(23,0,null,null,12,"ion-item",[["class","item item-block"]],null,null,null,B.b,B.a)),o.Y(24,1097728,null,3,F.a,[T.a,M.a,o.j,o.z,[2,W.a]],null,null),o._18(335544320,2,{contentLabel:0}),o._18(603979776,3,{_buttons:1}),o._18(603979776,4,{_icons:1}),o.Y(28,16384,null,0,X.a,[],null,null),(l()(),o._20(-1,2,["\n      "])),(l()(),o.Z(30,0,null,2,1,"div",[],null,null,null,null,null)),(l()(),o._20(-1,null,["当前用户："])),(l()(),o._20(-1,2,["\n      "])),(l()(),o.Z(33,0,null,2,1,"div",[],null,null,null,null,null)),(l()(),o._20(-1,null,["汨罗江责任人"])),(l()(),o._20(-1,2,["\n    "])),(l()(),o._20(-1,null,["\n    "])),(l()(),o.Z(37,0,null,null,12,"ion-item",[["class","item item-block"]],null,null,null,B.b,B.a)),o.Y(38,1097728,null,3,F.a,[T.a,M.a,o.j,o.z,[2,W.a]],null,null),o._18(335544320,5,{contentLabel:0}),o._18(603979776,6,{_buttons:1}),o._18(603979776,7,{_icons:1}),o.Y(42,16384,null,0,X.a,[],null,null),(l()(),o._20(-1,2,["\n      "])),(l()(),o.Z(44,0,null,2,1,"div",[],null,null,null,null,null)),(l()(),o._20(-1,null,["站点名称："])),(l()(),o._20(-1,2,["\n      "])),(l()(),o.Z(47,0,null,2,1,"div",[],null,null,null,null,null)),(l()(),o._20(-1,null,["汨罗江"])),(l()(),o._20(-1,2,["\n    "])),(l()(),o._20(-1,null,["\n    "])),(l()(),o.Z(51,0,null,null,12,"ion-item",[["class","item item-block"]],null,null,null,B.b,B.a)),o.Y(52,1097728,null,3,F.a,[T.a,M.a,o.j,o.z,[2,W.a]],null,null),o._18(335544320,8,{contentLabel:0}),o._18(603979776,9,{_buttons:1}),o._18(603979776,10,{_icons:1}),o.Y(56,16384,null,0,X.a,[],null,null),(l()(),o._20(-1,2,["\n      "])),(l()(),o.Z(58,0,null,2,1,"div",[],null,null,null,null,null)),(l()(),o._20(-1,null,["实时经度："])),(l()(),o._20(-1,2,["\n      "])),(l()(),o.Z(61,0,null,2,1,"div",[],null,null,null,null,null)),(l()(),o._20(62,null,["",""])),(l()(),o._20(-1,2,["\n    "])),(l()(),o._20(-1,null,["\n    "])),(l()(),o.Z(65,0,null,null,12,"ion-item",[["class","item item-block"]],null,null,null,B.b,B.a)),o.Y(66,1097728,null,3,F.a,[T.a,M.a,o.j,o.z,[2,W.a]],null,null),o._18(335544320,11,{contentLabel:0}),o._18(603979776,12,{_buttons:1}),o._18(603979776,13,{_icons:1}),o.Y(70,16384,null,0,X.a,[],null,null),(l()(),o._20(-1,2,["\n      "])),(l()(),o.Z(72,0,null,2,1,"div",[],null,null,null,null,null)),(l()(),o._20(-1,null,["实时纬度："])),(l()(),o._20(-1,2,["\n      "])),(l()(),o.Z(75,0,null,2,1,"div",[],null,null,null,null,null)),(l()(),o._20(76,null,["",""])),(l()(),o._20(-1,2,["\n    "])),(l()(),o._20(-1,null,["\n    "])),(l()(),o.Z(79,0,null,null,12,"ion-item",[["class","item item-block"]],null,null,null,B.b,B.a)),o.Y(80,1097728,null,3,F.a,[T.a,M.a,o.j,o.z,[2,W.a]],null,null),o._18(335544320,14,{contentLabel:0}),o._18(603979776,15,{_buttons:1}),o._18(603979776,16,{_icons:1}),o.Y(84,16384,null,0,X.a,[],null,null),(l()(),o._20(-1,2,["\n      "])),(l()(),o.Z(86,0,null,2,1,"div",[],null,null,null,null,null)),(l()(),o._20(-1,null,["当前距离："])),(l()(),o._20(-1,2,["\n      "])),(l()(),o.Z(89,0,null,2,1,"div",[],null,null,null,null,null)),(l()(),o._20(90,null,["",""])),(l()(),o._20(-1,2,["\n    "])),(l()(),o._20(-1,null,["\n  "])),(l()(),o._20(-1,1,["\n  "])),(l()(),o.Z(94,0,null,1,10,"ion-footer",[],null,null,null,null,null)),o.Y(95,16384,null,0,D.a,[M.a,o.j,o.z,[2,C.a]],null,null),(l()(),o._20(-1,null,["\n    "])),(l()(),o.Z(97,0,null,null,6,"ion-toolbar",[["class","toolbar"],["no-padding",""],["style","padding-bottom:0px;"]],[[2,"statusbar-padding",null]],null,null,E.b,E.a)),o.Y(98,49152,null,0,z.a,[M.a,o.j,o.z],null,null),(l()(),o._20(-1,3,["\n      "])),(l()(),o.Z(100,0,null,3,2,"button",[["color","primary"],["full",""],["icon-end",""],["ion-button",""],["no-margin",""]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.taskImplement()&&u}return u},V.b,V.a)),o.Y(101,1097728,null,0,J.a,[[8,""],M.a,o.j,o.z],{color:[0,"color"],full:[1,"full"]},null),(l()(),o._20(-1,0,["签到"])),(l()(),o._20(-1,3,["\n    "])),(l()(),o._20(-1,null,["\n  "])),(l()(),o._20(-1,1,["\n"])),(l()(),o._20(-1,null,["\n"]))],function(l,n){l(n,101,0,"primary","")},function(l,n){var t=n.component;l(n,5,0,o._11(n,6)._hidden,o._11(n,6)._sbPadding);l(n,14,0,o._11(n,15).statusbarPadding,o._11(n,15)._hasRefresher);l(n,62,0,t.longitude);l(n,76,0,t.latitude);l(n,90,0,t.distance);l(n,97,0,o._11(n,98)._sbPadding)})}Object.defineProperty(n,"__esModule",{value:!0});var a,o=t(0),s=t(2),i=(t(43),t(301)),e=t(136),r=function(l){function n(n,t,u,a){var o=l.call(this,n,t,u)||this;return o.navCtrl=n,o.navParams=t,o.toastCtrl=u,o.geolocation=a,o}return Object(s.__extends)(n,l),n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad SignInPage"),this.load(),this.gps()},n.prototype.gps=function(){var l=this;this.geolocation.getCurrentPosition().then(function(n){console.log(n.coords.latitude),console.log(n.coords.longitude),l.latitude=n.coords.latitude,l.longitude=n.coords.longitude,l.transformation(),l.addMarkers()}).catch(function(l){console.log("Error getting location",l),alert("Error getting location"+l)})},n.prototype.load=function(){(a=new AMap.Map(this.signMap.nativeElement,{rotateEnable:!0})).setMapStyle("amap://styles/whitesmoke")},n.prototype.addMarkers=function(){var l=new AMap.Icon({size:new AMap.Size(25,34),image:"assets/imgs/dir-marker.png",imageSize:new AMap.Size(135,40),imageOffset:new AMap.Pixel(-9,-3)}),n=new AMap.Marker({position:new AMap.LngLat(this.lnglat[0],this.lnglat[1]),icon:l}),t=new AMap.Icon({size:new AMap.Size(25,34),image:"assets/imgs/dir-marker.png",imageSize:new AMap.Size(135,40),imageOffset:new AMap.Pixel(-95,-3)}),u=new AMap.Marker({position:new AMap.LngLat(this.longitude,this.latitude),icon:t}),o=[[this.lnglat[0],this.lnglat[1]],[this.longitude,this.latitude]];a.clearMap(),a.add([n,u]);var s=n.getPosition(),i=u.getPosition();if(this.distance=Math.round(s.distance(i)),this.distance>200){new AMap.Polyline({path:o,isOutline:!0,borderWeight:0,strokeColor:"#00FF00",strokeOpacity:1,strokeWeight:1,strokeStyle:"dashed",strokeDasharray:[10,5],lineJoin:"round",lineCap:"round",zIndex:50}).setMap(a)}new AMap.Circle({center:[this.longitude,this.latitude],radius:200,borderWeight:3,strokeColor:"#FF33FF",strokeOpacity:1,strokeWeight:2,fillOpacity:.4,strokeStyle:"dashed",strokeDasharray:[10,10],fillColor:"#1791fc",zIndex:50}).setMap(a),a.setFitView()},n.prototype.transformation=function(){var l={PI:3.141592653589793,x_pi:52.35987755982988,delta:function(l,n){var t=.006693421622965943,u=this.transformLat(n-105,l-35),a=this.transformLon(n-105,l-35),o=l/180*this.PI,s=Math.sin(o);s=1-t*s*s;var i=Math.sqrt(s);return u=180*u/(6335552.717000426/(s*i)*this.PI),a=180*a/(6378245/i*Math.cos(o)*this.PI),{lat:u,lon:a}},gcj_encrypt:function(l,n){if(this.outOfChina(l,n))return{lat:l,lon:n};var t=this.delta(l,n);return{lat:l+t.lat,lon:n+t.lon}},outOfChina:function(l,n){return n<72.004||n>137.8347||(l<.8293||l>55.8271)},transformLat:function(l,n){var t=2*l-100+3*n+.2*n*n+.1*l*n+.2*Math.sqrt(Math.abs(l));return t+=2*(20*Math.sin(6*l*this.PI)+20*Math.sin(2*l*this.PI))/3,t+=2*(20*Math.sin(n*this.PI)+40*Math.sin(n/3*this.PI))/3,t+=2*(160*Math.sin(n/12*this.PI)+320*Math.sin(n*this.PI/30))/3},transformLon:function(l,n){var t=300+l+2*n+.1*l*l+.1*l*n+.1*Math.sqrt(Math.abs(l));return t+=2*(20*Math.sin(6*l*this.PI)+20*Math.sin(2*l*this.PI))/3,t+=2*(20*Math.sin(l*this.PI)+40*Math.sin(l/3*this.PI))/3,t+=2*(150*Math.sin(l/12*this.PI)+300*Math.sin(l/30*this.PI))/3}};this.lnglat=[l.gcj_encrypt(this.latitude,this.longitude).lon,l.gcj_encrypt(this.latitude,this.longitude).lat]},n.prototype.taskImplement=function(){this.navCtrl.push("TaskImplementPage")},n}(i.a),c=function(){return function(){}}(),d=t(198),_=t(199),h=t(200),b=t(201),p=t(202),g=t(203),f=t(204),m=t(205),k=t(206),v=t(123),M=t(1),C=t(5),Z=t(302),y=t(41),P=t(8),j=t(20),Y=t(303),I=t(120),z=t(55),w=t(297),A=t(22),x=t(4),L=t(9),S=t(33),q=t(59),O=t(7),B=t(207),F=t(18),T=t(15),W=t(46),X=t(82),D=t(126),E=t(338),V=t(42),J=t(19),N=t(10),R=t(58),G=o.X({encapsulation:2,styles:[],data:{}}),H=o.V("page-sign-in",r,function(l){return o._22(0,[(l()(),o.Z(0,0,null,null,1,"page-sign-in",[],null,null,null,u,G)),o.Y(1,49152,null,0,r,[j.a,N.a,R.a,e.a],null,null)],null,null)},{},{},[]),K=t(14),Q=t(17),U=t(122),$=t(36);t.d(n,"SignInPageModuleNgFactory",function(){return ll});var ll=o.W(c,[],function(l){return o._7([o._8(512,o.i,o.S,[[8,[d.a,_.a,h.a,b.a,p.a,g.a,f.a,m.a,k.a,H]],[3,o.i],o.s]),o._8(4608,K.l,K.k,[o.r,[2,K.t]]),o._8(4608,Q.k,Q.k,[]),o._8(4608,Q.c,Q.c,[]),o._8(512,K.b,K.b,[]),o._8(512,Q.j,Q.j,[]),o._8(512,Q.d,Q.d,[]),o._8(512,Q.i,Q.i,[]),o._8(512,U.a,U.a,[]),o._8(512,U.b,U.b,[]),o._8(512,c,c,[]),o._8(256,$.a,r,[])])})},297:function(l,n,t){"use strict";function u(l){return a._22(2,[a._18(402653184,1,{_fixedContent:0}),a._18(402653184,2,{_scrollContent:0}),(l()(),a.Z(2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),a._10(null,0),(l()(),a.Z(4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),a._10(null,1),a._10(null,2)],null,null)}t.d(n,"a",function(){return o}),n.b=u;var a=t(0),o=(t(1),t(4),t(9),t(33),t(5),t(20),a.X({encapsulation:2,styles:[],data:{}}))},301:function(l,n,t){"use strict";t.d(n,"a",function(){return u});var u=function(){function l(l,n,t){this.navCtrl=l,this.navParams=n,this.toastCtrl=t}return l.prototype.toast=function(l){null!=this.toastCtrl&&this.toastCtrl.create({message:l,duration:3e3,position:"middle",showCloseButton:!0,closeButtonText:"关闭"}).present()},l.prototype.toastLong=function(l){null!=this.toastCtrl&&this.toastCtrl.create({message:l,duration:3e3,position:"middle",showCloseButton:!0,closeButtonText:"关闭"}).present()},l.prototype.toastShort=function(l){null!=this.toastCtrl&&this.toastCtrl.create({message:l,duration:1500,position:"middle",showCloseButton:!0,closeButtonText:"关闭"}).present()},l}()},302:function(l,n,t){"use strict";function u(l){return a._22(0,[(l()(),a.Z(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),a.Y(1,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),a.Z(2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.backButtonClick(t)&&u}return u},s.b,s.a)),a.Y(3,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a.Y(4,1097728,null,0,i.a,[[8,"bar-button"],e.a,a.j,a.z],null,null),(l()(),a.Z(5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a.Y(6,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a.Y(7,147456,null,0,r.a,[e.a,a.j,a.z],{name:[0,"name"]},null),(l()(),a.Z(8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),a.Y(9,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),a._20(10,null,["",""])),a._10(null,0),a._10(null,1),a._10(null,2),(l()(),a.Z(14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),a.Y(15,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._10(null,3)],function(l,n){var t=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+t._mode);l(n,3,0,"back-button","back-button-"+t._mode);l(n,6,0,"back-button-icon","back-button-icon-"+t._mode);l(n,7,0,t._bbIcon);l(n,9,0,"back-button-text","back-button-text-"+t._mode);l(n,15,0,"toolbar-content","toolbar-content-"+t._mode)},function(l,n){var t=n.component;l(n,2,0,t._hideBb);l(n,5,0,a._11(n,7)._hidden);l(n,10,0,t._backText)})}t.d(n,"a",function(){return c}),n.b=u;var a=t(0),o=t(14),s=t(42),i=t(19),e=t(1),r=t(44),c=(t(5),t(20),a.X({encapsulation:2,styles:[],data:{}}))},303:function(l,n,t){"use strict";function u(l){return a._22(2,[(l()(),a.Z(0,0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),a.Y(1,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._10(null,0)],function(l,n){l(n,1,0,"toolbar-title","toolbar-title-"+n.component._mode)},null)}t.d(n,"a",function(){return s}),n.b=u;var a=t(0),o=t(14),s=(t(1),a.X({encapsulation:2,styles:[],data:{}}))},338:function(l,n,t){"use strict";function u(l){return a._22(2,[(l()(),a.Z(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),a.Y(1,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._10(null,0),a._10(null,1),a._10(null,2),(l()(),a.Z(5,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),a.Y(6,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._10(null,3)],function(l,n){var t=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+t._mode);l(n,6,0,"toolbar-content","toolbar-content-"+t._mode)},null)}t.d(n,"a",function(){return s}),n.b=u;var a=t(0),o=t(14),s=(t(1),a.X({encapsulation:2,styles:[],data:{}}))}});