{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/base/base.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n\n})\nexport class LoginPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { NavController, NavParams, ToastController } from 'ionic-angular';\n\n/**\n * Generated class for the BasePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n\nexport class BasePage {\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public toastCtrl?: ToastController) {\n  }\n\n  toast(info) {\n    if (this.toastCtrl != null)\n      this.toastCtrl.create({\n        message: info,\n        duration: 3000,\n        position: 'middle',\n        showCloseButton: true,\n        closeButtonText: \"关闭\"\n      }).present();\n  }\n\n  toastLong(info) {\n    if (this.toastCtrl != null)\n      this.toastCtrl.create({\n        message: info,\n        duration: 3000,\n        position: 'middle',\n        showCloseButton: true,\n        closeButtonText: \"关闭\"\n      }).present();\n  }\n\n  toastShort(info) {\n    if (this.toastCtrl != null)\n      this.toastCtrl.create({\n        message: info,\n        duration: 1500,\n        position: 'middle',\n        showCloseButton: true,\n        closeButtonText: \"关闭\"\n      }).present();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/base/base.ts","import { JPush } from '@jiguang-ionic/jpush';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, ModalController, AlertController, Platform } from 'ionic-angular';\nimport { BasePage } from '../base/base';\nimport { NetworkServiceProvider } from '../../providers/network-service/network-service';\nimport { StorageServiceProvider } from '../../providers/storage-service/storage-service';\nimport { AppGlobal, AppServiceProvider } from '../../providers/app-service/app-service';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\n/**\n * Generated class for the LoginPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage extends BasePage {\n  username: string;\n  password: string;\n  isRemember: boolean = false;\n  registrationId: string;\n  sequence: number = 0;\n  devicePlatform: string;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public toastCtrl: ToastController,\n    public modalCtrl: ModalController,\n    public net: NetworkServiceProvider,\n    public storage: StorageServiceProvider,\n    public splashScreen: SplashScreen,\n    public jpush: JPush,\n    public alerCtrl: AlertController,\n    public platform: Platform) {\n    super(navCtrl, navParams, toastCtrl);\n    /**极光推送开启 */\n    jpush.init();//插件初始化\n    jpush.setDebugMode(true);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad LoginPage');\n  }\n  initPush() {\n    /**接收消息触发 */\n    document.addEventListener('jpush.receiveNotification', (event: any) => {\n      //alert(JSON.stringify(event) + '：接收消息触发Receive notification');\n    }, false);\n    /**打开消息触发 */\n    document.addEventListener('jpush.openNotification', (event: any) => {\n      var content=event.message;\n      var data = JSON.parse(content.police);\n      let alerts = this.alerCtrl.create({\n        title: data.siteName,\n        message: \"<div>站点名称: \" + data.siteName + \"</div><div>报警时间: \" + this.convertToDate(data.exceedsBidDate) + \"</div><div>报警因子: \" + data.pollutant + \"</div><div>监测值: \" + data.value + \"</div><div>指标值: \" + data.indexValue + \"</div>\",\n        buttons: [\"确定\"]\n      });\n      alerts.present();\n    }, false);\n    /**接收本地消息 */\n    document.addEventListener('jpush.receiveLocalNotification', (event: any) => {\n      //alert(JSON.stringify(event) + '：接收消息触发receive local notification');\n    }, false);\n  }\n  jPushListener() {\n    document.addEventListener(\"jpush.receiveNotification\", (event: any) => {\n      var content;\n      if (this.devicePlatform == \"Android\") {\n        content = event.alert;\n        console.log(content);\n      } else {\n        content = event.aps.alert;\n        console.log(content);\n      }\n      //alert(\"Receive notification: \" + JSON.stringify(event));\n    },\n      false\n    );\n\n    document.addEventListener(\"jpush.openNotification\", (event: any) => {\n      var content;\n      if (this.devicePlatform == \"Android\") {\n        //content = event.alert;\n        content = event.extras;\n        console.log(content)\n        //this.events.publish(\"WarningPage\", event.extras,Date.now());\n        //alert(JSON.stringify(content));\n      } else {\n        // iOS\n        if (event.aps == undefined) {\n          // 本地通知\n          content = event.content;\n          console.log(content);\n        } else {\n          // APNS\n          content = event.aps.alert;\n          console.log(content);\n        }\n      }\n      // alert(content.police);\n      var data = JSON.parse(content.police);\n      // alert(data.siteName);\n      let alerts = this.alerCtrl.create({\n        title: data.siteName,\n        message: \"<div>站点名称: \" + data.siteName + \"</div><div>报警时间: \" + this.convertToDate(data.exceedsBidDate) + \"</div><div>报警因子: \" + data.pollutant + \"</div><div>监测值: \" + data.value + \"</div><div>指标值: \" + data.indexValue + \"</div>\",\n        buttons: [\"确定\"]\n      });\n      alerts.present();\n    }, false); 1\n\n    document.addEventListener(\"jpush.receiveLocalNotification\", (event: any) => {\n      // iOS(*,9) Only , iOS(10,*) 将在 jpush.openNotification 和 jpush.receiveNotification 中触发。\n      let content;\n      if (this.devicePlatform == \"Android\") {\n      } else {\n        content = event.content;\n        console.log(content);\n      }\n      //alert(\"receive local notification: \" + JSON.stringify(event));\n    }, false);\n  }\n  /**\n * \n * @param alias 设置别名\n */\n  setAlias(alias: string) {\n    //alert('setAlias')\n    //alert(alias);\n    this.jpush.setAlias({ sequence: this.sequence ? this.sequence++ : 1, alias: alias })\n      .then(this.aliasResultHandler)\n      .catch(this.errorHandler);\n  }\n  errorHandler = function (err) {\n    // let sequence: number = err.sequence;\n    // let code = err.code;\n    //this.toast('Error!' + '\\nSequence: ' + sequence + '\\nCode: ' + code,'异常设置回调');\n    //alert('Error!' + '\\nSequence: ' + sequence + '\\nCode: ' + code+'异常设置回调');\n  };\n  aliasResultHandler = function (result) {\n    // let sequence: number = result.sequence;\n    // let alias: string = result.alias;\n    //alert('Success!' + '\\nSequence: ' + sequence + '\\nAlias: ' + alias + '别名设置回调');\n  };\n  getRegistrationID() {\n    this.jpush.getRegistrationID()\n      .then(rId => {\n        // alert('rid');\n        //alert(rId);\n        this.registrationId = rId;\n      });\n  }\n  convertToDate(nows) {\n    const now = new Date(nows);\n    const year = now.getFullYear();\n    const month = now.getMonth() + 1 < 10 ? \"0\" + (now.getMonth() + 1) : now.getMonth() + 1;\n    const date = now.getDate() < 10 ? \"0\" + now.getDate() : now.getDate();\n    const hour = now.getHours() < 10 ? \"0\" + now.getHours() : now.getHours();\n    const minute = now.getMinutes() < 10 ? \"0\" + now.getMinutes() : now.getMinutes();\n    const second = now.getSeconds() < 10 ? \"0\" + now.getSeconds() : now.getSeconds();\n\n\n    return year + '-' + month + '-' + date + ' ' + hour + ':' + minute + ':' + second;\n  }\n  login() {\n    if (!this.username) {\n      this.toast(\"用户名不能为空！\");\n    } else if (!this.password) {\n      this.toast(\"密码不能为空！\");\n    } else {\n      let param: any = {};\n      param.username = this.username;\n      param.password = this.password;\n      this.net.httpPost(\n        AppGlobal.API.login,\n        param,\n        res => {\n          console.log(\"####################3\")\n          console.log(res);\n          AppServiceProvider.getInstance().userInfo = res;\n          AppServiceProvider.getInstance().userInfo.username = this.username;\n          AppServiceProvider.getInstance().userInfo.password = this.password;\n          // console.log('isRemember：'+this.isRemember)\n          if(this.isRemember){\n            this.storage.setItem(\"userInfo\", AppServiceProvider.getInstance().userInfo);\n          }else {\n            this.storage.setItem(\"userInfo\", {username: this.username});\n          }\n          this.navCtrl.setRoot(\"TabsPage\");\n          /*消息推送配置**/\n          this.setAlias(res.userId);//设置别名\n          //this.initPush();//监听初始化\n         this.jPushListener();\n          //this.getRegistrationID();//设备的id\n          this.storage.getItem(\"userInfo\", data => {\n            console.error(\"***************\");\n            console.error(data)\n          });\n        }, error => {\n          this.toast(error);\n        }, true\n      );\n      //modal.present();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}