{"version":3,"sources":["../../src/pages/video/video.module.ts","../../src/pages/base/base.ts","../../src/pages/video/video.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACZ;AACpC,mDAAmD;AACnD,2DAA2D;AAC3D,kEAAkE;AAClE,6DAA6D;AAa7D;IAAA;IAA+B,CAAC;IAAnB,eAAe;QAZ3B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,yDAAS;aACV;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC;aAKpC;SACF,CAAC;OACW,eAAe,CAAI;IAAD,sBAAC;CAAA;AAAJ;;;;;;;;;ACjB5B;AAAA;;;;;GAKG;AAGH;IACE,kBACS,OAAsB,EACtB,SAAoB,EACpB,SAA2B;QAF3B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,cAAS,GAAT,SAAS,CAAkB;IACpC,CAAC;IAED,wBAAK,GAAL,UAAM,IAAI;QACR,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC;YACzB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACpB,OAAO,EAAE,IAAI;gBACb,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,QAAQ;gBAClB,eAAe,EAAE,IAAI;gBACrB,eAAe,EAAE,IAAI;aACtB,CAAC,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,4BAAS,GAAT,UAAU,IAAI;QACZ,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC;YACzB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACpB,OAAO,EAAE,IAAI;gBACb,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,QAAQ;gBAClB,eAAe,EAAE,IAAI;gBACrB,eAAe,EAAE,IAAI;aACtB,CAAC,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,6BAAU,GAAV,UAAW,IAAI;QACb,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC;YACzB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACpB,OAAO,EAAE,IAAI;gBACb,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,QAAQ;gBAClB,eAAe,EAAE,IAAI;gBACrB,eAAe,EAAE,IAAI;aACtB,CAAC,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IACH,eAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDqE;AACqB;AACjB;AAChC;AACA;AACgC;AAkB1E;IAA+B,6BAAQ;IAmBrC,mBAAmB,OAAsB,EAChC,SAAoB,EACpB,SAA0B,EAC1B,IAAoB,EACpB,GAA2B;QAJpC,YAKE,kBAAM,OAAO,EAAE,SAAS,EAAE,SAAS,CAAC,SAOrC;QAZkB,aAAO,GAAP,OAAO,CAAe;QAChC,eAAS,GAAT,SAAS,CAAW;QACpB,eAAS,GAAT,SAAS,CAAiB;QAC1B,UAAI,GAAJ,IAAI,CAAgB;QACpB,SAAG,GAAH,GAAG,CAAwB;QAdpC,eAAS,GAAa,EAAE,CAAC;QAKzB,oBAAc,GAAQ,GAAG,CAAC,KAAI;QAE9B,qBAAe,GAAe,EAAE,CAAC;QAEjC,cAAQ,GAAU,IAAI,QAAQ,CAAC;QAc/B,wBAAkB,GAAQ;YACxB,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE;YACvB,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE;SACxB,CAAC;QAVA,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;QAC3C,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC;QAC7C,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;QAC5B,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,UAAU,EAAC,IAAI,CAAC,CAAC;;IAGvC,CAAC;IAKD,kCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QACxC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC;YAC/G,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACxC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC/B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC/C,IAAI,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;gBAC5E,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACjC,CAAC;YACD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAAA,CAAC;QACpC,CAAC;IAEH,CAAC;IACD,0BAAM,GAAN;QACE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;IACtB,CAAC;IACD,wCAAoB,GAApB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACnB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC/C,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC7C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACjC,KAAK,CAAC;gBACR,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;IACD,MAAM;IACN,kCAAc,GAAd,UAAe,SAAS,EAAC,IAAI;QAA7B,iBAUC;QATC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAC,IAAI,CAAC;QACzB,OAAO,CAAC,GAAG,CAAC,IAAI,GAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACrC,UAAU,CAAC;YACT,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAC,KAAK,CAAC;QAC5B,CAAC,EAAE,GAAG,CAAC;QACP,IAAI,CAAC,SAAS,GAAG,SAAS;QAC1B,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC;IAC7B,CAAC;IACD,MAAM;IACN,8BAAU,GAAV,UAAW,IAAI;QACb,IAAI,KAAK,GAAQ,EAAE,CAAC;QACpB,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACrC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QACvC,KAAK,CAAC,SAAS,GAAG,GAAG,CAAC;QACtB,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACjC,KAAK,CAAC,KAAK,GAAG,CAAC;QACf,IAAI,CAAC,GAAG,CAAC,OAAO,CACd,qFAAS,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,EAAE,aAAG;YAClC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;QAClB,CAAC,EAAE,eAAK;YACN,mBAAmB;YACnB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;QACpB,CAAC,CACF;IACH,CAAC;IACD,MAAM;IACN,wCAAoB,GAApB,UAAqB,IAAI;QAAzB,iBAoBC;QAnBC,IAAI,KAAK,GAAQ,EAAE,CAAC;QACpB,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACrC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QACvC,KAAK,CAAC,SAAS,GAAG,GAAG,CAAC;QACtB,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACjC,KAAK,CAAC,KAAK,GAAG,CAAC;QACf,IAAI,CAAC,GAAG,CAAC,OAAO,CACd,qFAAS,CAAC,GAAG,CAAC,oBAAoB,EAAE,KAAK,EAAE,aAAG;YAC5C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;YAChB,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,KAAK,CAAC;QAE7B,CAAC,EAAE,eAAK;YACN,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;YAClB,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,KAAK,CAAC;YAE3B,mBAAmB;QACrB,CAAC,CACF;IAEH,CAAC;IACD,QAAQ;IACR,mCAAe,GAAf,UAAgB,IAAI;QAClB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;QACjB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,GAAG,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC;QAC9B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAChC,CAAC;QACD,kEAAkE;QAClE,sDAAsD;QACtD,wCAAwC;QACxC,2LAA2L;QAC3L,kHAAkH;QAElH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC;QACzB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC;QAE3B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAEtB,IAAI,CAAC,MAAM,GAAG,IAAI,UAAU,CAAC,UAAU,CAAC,CAAC;QACzC,IAAI,OAAO,GAAC,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAC/C,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;IAEpC,CAAC;IA5IU,SAAS;QAJrB,wEAAS,CAAC;YACT,QAAQ,EAAE,YAAY;WACG;SAC1B,CAAC;6EAoByC;YACrB,sEAAS;YACT,iGAAe;YACpB,0GAAc;YACf,MAAsB;OAvBzB,SAAS,CA8IrB;8DAAD,GAAC;AAAA;SA9IY,SAAS;AAgJtB;IAAA;QACE,cAAS,GAAY,GAAK;QAC1B,YAAO,GAAY,IAAI,CAAC;QACxB,cAAS,GAAY,GAAK;QAC1B,YAAO,GAAY,IAAI,CAAC;QACxB,YAAO,GAAS,IAAI,CAAC;QACrB,cAAS,GAAS,IAAI,CAAC;QACvB,eAAU,GAAS,GAAK;KACF;IACxB,CAAC;IAAD,CAAC;AAAD,CAAC,gC","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { VideoPage } from './video';\n// import { VgCoreModule } from 'videogular2/core';\n// import { VgControlsModule } from 'videogular2/controls';\n// import { VgOverlayPlayModule } from 'videogular2/overlay-play';\n// import { VgBufferingModule } from 'videogular2/buffering';\n@NgModule({\n  declarations: [\n    VideoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(VideoPage),\n    // VgCoreModule,\n    // VgControlsModule,\n    // VgOverlayPlayModule,\n    // VgBufferingModule,\n  ],\n})\nexport class VideoPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/video/video.module.ts","import { NavController, NavParams, ToastController } from 'ionic-angular';\n\n/**\n * Generated class for the BasePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n\nexport class BasePage {\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public toastCtrl?: ToastController) {\n  }\n\n  toast(info) {\n    if (this.toastCtrl != null)\n      this.toastCtrl.create({\n        message: info,\n        duration: 3000,\n        position: 'middle',\n        showCloseButton: true,\n        closeButtonText: \"关闭\"\n      }).present();\n  }\n\n  toastLong(info) {\n    if (this.toastCtrl != null)\n      this.toastCtrl.create({\n        message: info,\n        duration: 3000,\n        position: 'middle',\n        showCloseButton: true,\n        closeButtonText: \"关闭\"\n      }).present();\n  }\n\n  toastShort(info) {\n    if (this.toastCtrl != null)\n      this.toastCtrl.create({\n        message: info,\n        duration: 1500,\n        position: 'middle',\n        showCloseButton: true,\n        closeButtonText: \"关闭\"\n      }).present();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/base/base.ts","import { AppGlobal } from './../../providers/app-service/app-service';\nimport { NetworkServiceProvider } from './../../providers/network-service/network-service';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\nimport { BasePage } from './../base/base';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\n\n/**\n * Generated class for the VideoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\ndeclare const $;\ndeclare var EZUIPlayer: any;\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-video',\n  templateUrl: 'video.html',\n})\nexport class VideoPage extends BasePage {\n  //视频类型\n  vedioType: any;\n  deviceSerial: any;\n  ChannelNumber: any;\n  accessToken: any;\n  vidiconId: any;\n  //视频\n  player: any;\n  videoList: Array<any>=[];\n  video: any;\n  siteName: any;\n  videoUrl: any;\n  aaa: any;\n  pictureQuality: any = '1';//画质\n  vidiconName: any;\t//摄像头设备序列号\n  vidiconNameList: Array<any> = [];\n  direction: any;//操作\n  imgStyle:imgStyle=new imgStyle;\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public toastCtrl: ToastController,\n    public view: ViewController,\n    public net: NetworkServiceProvider) {\n    super(navCtrl, navParams, toastCtrl);\n    this.videoList = this.navParams.data.video;\n    this.siteName = this.navParams.data.siteName;\n    console.log(this.videoList);\n    $(\"#disabled\").attr(\"disabled\",true);\n\n\n  }\n  pictureQualityList: any = [\n    { id: '1', name: \"标清\" },\n    { id: '2', name: \"高清\" },\n  ];\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad VideoPage');\n    if (this.videoList.length>0) {\n      document.getElementById('myPlayer').style.width = document.getElementById('fatherMyPlayer').offsetWidth + 'px';\n      this.vidiconName = this.videoList[0].id;\n      this.video = this.videoList[0];\n      for (var i = 0; i < this.videoList.length; i++) {\n        var arr = { id: this.videoList[i].id, name: this.videoList[i].vidiconName };\n        this.vidiconNameList.push(arr);\n      }\n      this.haikangSetVedio(this.video);;\n    } \n\n  }\n  return() {\n    this.view.dismiss();\n  }\n  pictureQualityChoice() {\n    if (this.videoList) {\n      for (var j = 0; j < this.videoList.length; j++) {\n        if (this.vidiconName == this.videoList[j].id) {\n          this.video = this.videoList[j];\n          this.haikangSetVedio(this.video);\n          break;\n        }\n      }\n    }\n  }\n  //操作视频\n  clickOperation(direction,name) {\n    console.log(name)\n    this.imgStyle[name]=true;\n    console.log(name+this.imgStyle[name])\n    setTimeout(() => {\n      this.imgStyle[name]=false;\n    }, 500)\n    this.direction = direction\n    this.changeVideoDirection(this.video);\n    this.clearVideo(this.video)\n  }\n  //结束操作\n  clearVideo(date) {\n    let param: any = {};\n    param.accessToken = date.accessToken;\n    param.deviceSerial = date.seriesNumber;\n    param.channelNo = '1';\n    param.direction = this.direction;\n    param.speed = 1\n    this.net.webPost(\n      AppGlobal.API.clearVideo, param, res => {\n        console.log(res)\n      }, error => {\n        //this.toast(error)\n        console.log(error)\n      }\n    )\n  }\n  //开始操作\n  changeVideoDirection(date) {\n    let param: any = {};\n    param.accessToken = date.accessToken;\n    param.deviceSerial = date.seriesNumber;\n    param.channelNo = '1';\n    param.direction = this.direction;\n    param.speed = 1\n    this.net.webPost(\n      AppGlobal.API.changeVideoDirection, param, res => {\n        console.log(res)\n        this.clearVideo(this.video)\n\n      }, error => {\n        console.log(error)\n        this.clearVideo(this.video)\n\n        //this.toast(error)\n      }\n    )\n\n  }\n  //海康视频添加\n  haikangSetVedio(data) {\n    console.log(data)\n    if (this.pictureQuality == '1') {\n      this.videoUrl = data.hlsUrl;\n    } else {\n      this.videoUrl = data.hlshdUrl;\n    }\n    // var fatherMyPlayer = document.getElementById(\"fatherMyPlayer\");\n    // var myPlayer = document.getElementById(\"myPlayer\");\n    // fatherMyPlayer.removeChild(myPlayer);\n    // fatherMyPlayer.innerHTML = '<video #media id=\"myPlayer\" style=\"height: 100%\" preload=\"auto\" controls autoplay=\"autoplay\"><source src=\"' + this.videoUrl + '\" type=\"video/mp4\"></video>';\n    // document.getElementById('myPlayer').style.width = document.getElementById('fatherMyPlayer').offsetWidth + 'px';\n\n    this.vidiconId = data.id;\n    this.accessToken = data.accessToken;\n    this.vedioType = data.supplier;\n    var vedioSrc = data.hlsUrl;\n\n    console.log(vedioSrc);\n\n    this.player = new EZUIPlayer('myPlayer');\n    var videoId=document.getElementById('videoId');\n    console.log(videoId.offsetHeight);\n\n  }\n\n}\n\nclass imgStyle {\n  oneReduce: boolean = true;\n  onePlus: boolean = true;\n  twoReduce: boolean = true;\n  twoPlus: boolean = true;\n  topCtrl:boolean=true;\n  rightCtrl:boolean=true;\n  bottomCtrl:boolean=true;\n  leftCtrl:boolean=true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/video/video.ts"],"sourceRoot":""}