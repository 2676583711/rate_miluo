{"version":3,"sources":["../../src/pages/task-add/task-add.module.ts","../../src/pages/base/base.ts","../../src/pages/task-add/task-add.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TaskAddPage } from './task-add';\n\n@NgModule({\n  declarations: [\n    TaskAddPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TaskAddPage),\n  ],\n})\nexport class TaskAddPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/task-add/task-add.module.ts","import { NavController, NavParams, ToastController } from 'ionic-angular';\n\n/**\n * Generated class for the BasePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n\nexport class BasePage {\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public toastCtrl?: ToastController) {\n  }\n\n  toast(info) {\n    if (this.toastCtrl != null)\n      this.toastCtrl.create({\n        message: info,\n        duration: 3000,\n        position: 'middle',\n        showCloseButton: true,\n        closeButtonText: \"关闭\"\n      }).present();\n  }\n\n  toastLong(info) {\n    if (this.toastCtrl != null)\n      this.toastCtrl.create({\n        message: info,\n        duration: 3000,\n        position: 'middle',\n        showCloseButton: true,\n        closeButtonText: \"关闭\"\n      }).present();\n  }\n\n  toastShort(info) {\n    if (this.toastCtrl != null)\n      this.toastCtrl.create({\n        message: info,\n        duration: 1500,\n        position: 'middle',\n        showCloseButton: true,\n        closeButtonText: \"关闭\"\n      }).present();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/base/base.ts","import { AppServiceProvider, AppGlobal } from './../../providers/app-service/app-service';\nimport { NetworkServiceProvider } from './../../providers/network-service/network-service';\nimport { BasePage } from './../base/base';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\n\n/**\n * Generated class for the TaskAddPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-task-add',\n  templateUrl: 'task-add.html',\n})\nexport class TaskAddPage extends BasePage {\n  userList: any;\n  taskInfo: any;\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public toastCtrl: ToastController,\n    public net: NetworkServiceProvider) {\n    super(navCtrl, navParams, toastCtrl)\n    this.taskInfo = this.navParams.data.waming;\n    this.taskInfo.taskType = '0';\n    this.taskInfo.degreeEmergency = '0'\n    this.taskInfo.remark = this.taskInfo.exceedsBidDate + this.taskInfo.name + this.taskInfo.pollutant + '污染物浓度超标';\n    this.taskInfo.stationCode=this.taskInfo.siteId;\n    this.time();\n    console.log(this.taskInfo)\n  }\n  taskTypes: any = [\n    { id: '0', name: \"报警任务\" },\n    { id: '1', name: \"巡检\" },\n    { id: '2', name: \"维护\" },\n    { id: '3', name: \"易耗品更换\" },\n    { id: '4', name: \"仪器校准\" },\n    { id: '5', name: \"维修\" },\n    { id: '6', name: \"试剂更换\" },\n    { id: '7', name: \"废液回收\" },\n    { id: '8', name: \"其他\" },\n  ];\n  degreeEmergencys: any = [\n    { id: '0', name: \"普通不紧急\" },\n    { id: '1', name: \"重要紧急\" },\n    { id: '2', name: \"最高级别\" },\n  ];\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad TaskAddPage');\n    this.getHandler();\n  }\n  getHandler() {\n    let param: any = {};\n    param.userId = AppServiceProvider.getInstance().userInfo.userId;\n    param.code = AppServiceProvider.getInstance().userInfo.code;\n    param.fzr=this.taskInfo.fzr;\n    this.net.httpPost(\n      AppGlobal.API.getHandler, param, res => {\n        this.userList = res;\n        console.log(this.userList)\n      }, error => {\n        this.toast(error);\n      }\n    )\n  }\n  determine() {\n    delete this.taskInfo.userId;\n    this.taskInfo.chargePersonId=this.userList.userId\n    let param: any = {};\n    this.taskInfo.startTime=this.taskInfo.startTime.replace(\"T\", \" \")+\":00\";\n    this.taskInfo.endTime=this.taskInfo.endTime.replace(\"T\", \" \")+\":00\";\n    param.userId = AppServiceProvider.getInstance().userInfo.userId;\n    param.code = AppServiceProvider.getInstance().userInfo.code;\n    for(let key in this.taskInfo){\n      param[key]=this.taskInfo[key];\n    }\n    console.log(param)\n    this.net.httpPost(\n      AppGlobal.API.saveTask,param,res=>{\n        this.toast(\"添加成功\");\n        this.navCtrl.pop();\n      },error=>{\n        this.toast(error)\n      }\n    )\n  }\n  time() {\n    let time = new Date;\n    console.log(time);\n    let fullYear = time.getFullYear().toString();\n    let month = time.getMonth();\n    let date = time.getDate();\n    let hour = time.getHours();\n    let minute = time.getMinutes();\n    let months;\n    let dates;\n    let hours;\n    let minutes;\n    month = month + 1;\n    tiem();\n    this.taskInfo.startTime = fullYear + '-' + months + '-' + dates + 'T' + hours + \":\" + minutes;\n    date=date+1\n    tiem();\n    this.taskInfo.endTime = fullYear + '-' + months + '-' + dates + 'T' + hours + \":\" + minutes;\n    function tiem() {\n      if (month.toString().length == 1) {\n        months = '0' + month.toString();\n      } else {\n        months = month.toString();\n      }\n      if (date.toString().length == 1) {\n        dates = '0' + date.toString();\n      } else {\n        dates = date.toString();\n      }\n      if (hour.toString().length == 1) {\n        hours = '0' + hour.toString();\n      } else {\n        hours = hour.toString();\n      }\n      if (minute.toString().length == 1) {\n        minutes = '0' + minute.toString();\n      } else {\n        minutes = minute.toString();\n      }\n      console.log(fullYear + '-' + months + '-' + dates + 'T' + hours + \":\" + minutes)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/task-add/task-add.ts"],"sourceRoot":""}