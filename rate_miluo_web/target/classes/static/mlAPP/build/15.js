webpackJsonp([15],{251:function(l,n,t){"use strict";function u(l){return i._22(0,[(l()(),i.Z(0,0,[[2,0],["ionItemGroup1",1]],null,3,"p",[["class","indexed-item"]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.selectIndex(l.context.$implicit)&&u}return u},null,null)),i.Y(1,278528,null,0,y.h,[i.p,i.q,i.j,i.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i._14(2,{activate:0}),(l()(),i._20(3,null,["\n      ","\n    "]))],function(l,n){var t=n.component;l(n,1,0,"indexed-item",l(n,2,0,t.index==n.context.$implicit&&t.isShow))},function(l,n){l(n,3,0,n.context.$implicit)})}function e(l){return i._22(0,[(l()(),i.Z(0,0,null,null,6,"div",[["class","keyClass"]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.airDetails(l.context.$implicit)&&u}return u},null,null)),(l()(),i._20(-1,null,["\n          "])),(l()(),i.Z(2,0,null,null,3,"span",[["style","font-size: 1.4rem;"]],null,null,null,null,null)),i.Y(3,278528,null,0,y.h,[i.p,i.q,i.j,i.A],{ngClass:[0,"ngClass"]},null),i._14(4,{span1:0,span2:1}),(l()(),i._20(-1,null,["●"])),(l()(),i._20(6,null,[" ","\n        "]))],function(l,n){l(n,3,0,l(n,4,0,n.context.$implicit.siteStatus,!n.context.$implicit.siteStatus))},function(l,n){l(n,6,0,n.context.$implicit.name)})}function o(l){return i._22(0,[(l()(),i.Z(0,0,null,null,12,"div",[],null,null,null,null,null)),(l()(),i._20(-1,null,["\n        "])),(l()(),i._20(-1,null,["\n        "])),(l()(),i.Z(3,0,null,null,7,"div",[],[[8,"id",0]],null,null,null,null)),(l()(),i._20(-1,null,["\n        "])),(l()(),i.Z(5,0,null,null,1,"div",[["class","keyNull"]],null,null,null,null,null)),(l()(),i._20(6,null,["",""])),(l()(),i._20(-1,null,["\n        "])),(l()(),i.U(16777216,null,null,1,null,e)),i.Y(9,802816,null,0,y.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(l()(),i._20(-1,null,["\n      "])),(l()(),i._20(-1,null,["\n        "])),(l()(),i._20(-1,null,["\n      "]))],function(l,n){l(n,9,0,n.component.site[n.context.$implicit])},function(l,n){l(n,3,0,n.context.$implicit);l(n,6,0,n.context.$implicit)})}function s(l){return i._22(0,[(l()(),i.Z(0,0,null,null,3,"div",[["class","modal"]],null,null,null,null,null)),i.Y(1,278528,null,0,y.h,[i.p,i.q,i.j,i.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i._14(2,{show:0}),(l()(),i._20(3,null,["",""]))],function(l,n){l(n,1,0,"modal",l(n,2,0,n.component.isShow))},function(l,n){l(n,3,0,n.component.index)})}function a(l){return i._22(0,[i._18(402653184,1,{siteListContent:0}),i._18(671088640,2,{ionItemGroup1:1}),(l()(),i._20(-1,null,["\n"])),(l()(),i.Z(3,0,null,null,21,"ion-header",[["id","header"]],null,null,null,null,null)),i.Y(4,16384,null,0,Z.a,[I.a,i.j,i.z,[2,Y.a]],null,null),(l()(),i._20(-1,null,["\n  "])),(l()(),i.Z(6,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,L.b,L.a)),i.Y(7,49152,null,0,w.a,[j.a,[2,Y.a],[2,S.a],I.a,i.j,i.z],null,null),(l()(),i._20(-1,3,["\n    "])),(l()(),i.Z(9,0,null,3,2,"ion-title",[],null,null,null,T.b,T.a)),i.Y(10,49152,null,0,A.a,[I.a,i.j,i.z,[2,z.a],[2,w.a]],null,null),(l()(),i._20(-1,0,["站点查询"])),(l()(),i._20(-1,3,["\n  "])),(l()(),i._20(-1,null,["\n  "])),(l()(),i.Z(14,0,null,null,9,"ion-item",[["class","item_style item item-block"],["id","searchbar"]],null,null,null,B.b,B.a)),i.Y(15,1097728,null,3,F.a,[P.a,I.a,i.j,i.z,[2,O.a]],null,null),i._18(335544320,3,{contentLabel:0}),i._18(603979776,4,{_buttons:1}),i._18(603979776,5,{_icons:1}),i.Y(19,16384,null,0,q.a,[],null,null),(l()(),i._20(-1,2,["\n      "])),(l()(),i.Z(21,0,null,2,1,"ion-searchbar",[["animated","true"],["autocomplete","true"],["debounce","2000"],["placeholder","请搜索站点"],["type","text"]],[[2,"searchbar-animated",null],[2,"searchbar-has-value",null],[2,"searchbar-active",null],[2,"searchbar-show-cancel",null],[2,"searchbar-left-aligned",null],[2,"searchbar-has-focus",null]],[[null,"ionInput"]],function(l,n,t){var u=!0;if("ionInput"===n){u=!1!==l.component.searchChange(t)&&u}return u},D.b,D.a)),i.Y(22,1294336,null,0,H.a,[I.a,X.a,i.j,i.z,[2,M.f]],{debounce:[0,"debounce"],placeholder:[1,"placeholder"],autocomplete:[2,"autocomplete"],type:[3,"type"],animated:[4,"animated"]},{ionInput:"ionInput"}),(l()(),i._20(-1,2,["\n    "])),(l()(),i._20(-1,null,["\n"])),(l()(),i._20(-1,null,["\n\n"])),(l()(),i.Z(26,0,null,null,28,"ion-content",[["id","siteListContent"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,U.b,U.a)),i.Y(27,4374528,[[1,4],["siteListContent",4]],0,V.a,[I.a,X.a,E.a,i.j,i.z,j.a,G.a,i.u,[2,Y.a],[2,S.a]],null,null),(l()(),i._20(-1,1,["\n  \n  "])),(l()(),i.Z(29,0,null,1,4,"div",[["id","letter"]],null,null,null,null,null)),(l()(),i._20(-1,null,["\n    "])),(l()(),i.U(16777216,null,null,1,null,u)),i.Y(32,802816,null,0,y.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(l()(),i._20(-1,null,["\n  "])),(l()(),i._20(-1,1,["\n  "])),(l()(),i.Z(35,0,null,1,14,"ion-scroll",[["scrollY","true"],["zooming","false"]],[[2,"scroll-x",null],[2,"scroll-y",null]],null,null,N.b,N.a)),i.Y(36,278528,null,0,y.m,[i.q,i.j,i.A],{ngStyle:[0,"ngStyle"]},null),i._14(37,{height:0}),i.Y(38,49152,null,0,J.a,[],{scrollY:[0,"scrollY"]},null),(l()(),i._20(-1,0,["\n    "])),(l()(),i.Z(40,0,null,0,8,"ion-list",[],null,null,null,null,null)),i.Y(41,16384,null,0,R.a,[I.a,i.j,i.z,X.a,W.l,E.a],null,null),(l()(),i._20(-1,null,["\n      "])),(l()(),i._20(-1,null,["\n      "])),(l()(),i.Z(44,0,null,null,0,"div",[["id","href"]],null,null,null,null,null)),(l()(),i._20(-1,null,["\n      "])),(l()(),i.U(16777216,null,null,1,null,o)),i.Y(47,802816,null,0,y.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(l()(),i._20(-1,null,["\n    "])),(l()(),i._20(-1,0,["\n  "])),(l()(),i._20(-1,1,["\n  "])),(l()(),i.U(16777216,null,1,1,null,s)),i.Y(52,16384,null,0,y.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(l()(),i._20(-1,1,["\n  "])),(l()(),i._20(-1,1,["\n\n\n"])),(l()(),i._20(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,22,0,"2000","请搜索站点","true","text","true");l(n,32,0,t.aLetters);l(n,36,0,l(n,37,0,t.siteHeight));l(n,38,0,"true");l(n,47,0,t.arr1);l(n,52,0,t.isShow)},function(l,n){l(n,6,0,i._11(n,7)._hidden,i._11(n,7)._sbPadding);l(n,21,0,i._11(n,22)._animated,i._11(n,22)._value,i._11(n,22)._isActive,i._11(n,22)._showCancelButton,i._11(n,22)._shouldAlignLeft,i._11(n,22)._isFocus);l(n,26,0,i._11(n,27).statusbarPadding,i._11(n,27)._hasRefresher);l(n,35,0,i._11(n,38).scrollX,i._11(n,38).scrollY)})}Object.defineProperty(n,"__esModule",{value:!0});var i=t(0),c=t(2),r=(t(43),t(45)),d=t(56),h=function(l){function n(n,t,u,e,o){var s=l.call(this,n,t,u)||this;return s.navCtrl=n,s.navParams=t,s.toastCtrl=u,s.ref=e,s.net=o,s.index="A",s.aLetters=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],s.offsetTops=[],s.newArr=[],s.arr1=[],s.isShow=!1,s.siteList=new Map,s.site=new Map,s}return Object(c.__extends)(n,l),n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad SiteListPage"),this.getOffsetTops(),this.onScroll(),this.getSiteList()},n.prototype.searchChange=function(l){var n=l.data;this.arr1=[],this.site=new Map;for(var t in this.siteList){for(var u=new Array,e=0;e<this.siteList[t].length;e++)-1!=this.siteList[t][e].name.indexOf(n)&&(console.log(e+"."+this.siteList[t][e].name),u.push(this.siteList[t][e]));u.length>0&&(this.arr1.push(t),this.site[t]=u)}this.siteHeights()},n.prototype.selectIndex=function(l){var n=this;if(this.index=l,this.href="#"+l,this.isShow=!0,console.log("selectIndex"),console.log(document.getElementById(l)),-1!=this.arr1.join("").indexOf(l)){var t=document.getElementById(l);t&&t.scrollIntoView()}setTimeout(function(){n.isShow=!1},500)},n.prototype.airDetails=function(l){"2"==l.siteType?this.navCtrl.push("AirDetailsPage",{site:l,id:"a"}):"1"==l.siteType?this.navCtrl.push("AutomaticDetailsPage",{site:l,id:"a"}):"3"==l.siteType?this.navCtrl.push("ContaminatedDetailsPage",{site:l,id:"a"}):"4"==l.siteType&&this.navCtrl.push("HandleDetailsPage",{site:l,id:"a"})},n.prototype.getOffsetTops=function(){this.offsetTops=this.ionItemGroup1._results.map(function(l){return l.nativeElement.offsetTop}),console.log("-----------------"),console.log(this.offsetTops),this.index=this.aLetters[0]},n.prototype.siteHeights=function(){var l=$("#siteListContent").height(),n=$("#header").height();this.siteHeight=l-n+"px",console.log("siteListContent:"+l),console.log("siteHeight:"+this.siteHeight)},n.prototype.onScroll=function(){if(this.siteListContent.scrollTop<42)return this.index=this.aLetters[0],this.ref.detectChanges(),console.log("aaaaaaaaaaa:"+this.index),console.log(this.ref.detectChanges()),void console.log(this.siteListContent);for(var l=this.offsetTops.length;l>0;l--)if(this.siteListContent.scrollTop+42>=this.offsetTops[l])return this.index=this.aLetters[l],this.ref.detectChanges(),console.log("bbbbbbbb:"+this.index),console.log(this.ref.detectChanges()),void console.log(this.siteListContent)},n.prototype.getSiteList=function(){var l=this,n={};n.userId=r.b.getInstance().userInfo.userId,n.code=r.b.getInstance().userInfo.code,this.net.httpPost(r.a.API.getSiteList,n,function(n){l.siteList=n;for(var t in l.siteList)l.arr1.push(t);l.site=l.siteList,l.siteHeights()},function(n){l.toast(n)})},n}(t(301).a),p=function(){return function(){}}(),_=t(198),f=t(199),b=t(200),m=t(201),g=t(202),v=t(203),C=t(204),k=t(205),x=t(206),y=t(14),Z=t(123),I=t(1),Y=t(5),L=t(302),w=t(41),j=t(8),S=t(20),T=t(303),A=t(120),z=t(55),B=t(207),F=t(18),P=t(15),O=t(46),q=t(82),D=t(771),H=t(135),X=t(4),M=t(17),U=t(297),V=t(22),E=t(9),G=t(33),N=t(471),J=t(127),R=t(59),W=t(7),K=t(10),Q=t(58),ll=i.X({encapsulation:2,styles:[],data:{}}),nl=i.V("page-site-list",h,function(l){return i._22(0,[(l()(),i.Z(0,0,null,null,1,"page-site-list",[],null,null,null,a,ll)),i.Y(1,49152,null,0,h,[S.a,K.a,Q.a,i.g,d.a],null,null)],null,null)},{},{},[]),tl=t(122),ul=t(36);t.d(n,"SiteListPageModuleNgFactory",function(){return el});var el=i.W(p,[],function(l){return i._7([i._8(512,i.i,i.S,[[8,[_.a,f.a,b.a,m.a,g.a,v.a,C.a,k.a,x.a,nl]],[3,i.i],i.s]),i._8(4608,y.l,y.k,[i.r,[2,y.t]]),i._8(4608,M.k,M.k,[]),i._8(4608,M.c,M.c,[]),i._8(512,y.b,y.b,[]),i._8(512,M.j,M.j,[]),i._8(512,M.d,M.d,[]),i._8(512,M.i,M.i,[]),i._8(512,tl.a,tl.a,[]),i._8(512,tl.b,tl.b,[]),i._8(512,p,p,[]),i._8(256,ul.a,h,[])])})},297:function(l,n,t){"use strict";function u(l){return e._22(2,[e._18(402653184,1,{_fixedContent:0}),e._18(402653184,2,{_scrollContent:0}),(l()(),e.Z(2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),e._10(null,0),(l()(),e.Z(4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),e._10(null,1),e._10(null,2)],null,null)}t.d(n,"a",function(){return o}),n.b=u;var e=t(0),o=(t(1),t(4),t(9),t(33),t(5),t(20),e.X({encapsulation:2,styles:[],data:{}}))},301:function(l,n,t){"use strict";t.d(n,"a",function(){return u});var u=function(){function l(l,n,t){this.navCtrl=l,this.navParams=n,this.toastCtrl=t}return l.prototype.toast=function(l){null!=this.toastCtrl&&this.toastCtrl.create({message:l,duration:3e3,position:"middle",showCloseButton:!0,closeButtonText:"关闭"}).present()},l.prototype.toastLong=function(l){null!=this.toastCtrl&&this.toastCtrl.create({message:l,duration:3e3,position:"middle",showCloseButton:!0,closeButtonText:"关闭"}).present()},l.prototype.toastShort=function(l){null!=this.toastCtrl&&this.toastCtrl.create({message:l,duration:1500,position:"middle",showCloseButton:!0,closeButtonText:"关闭"}).present()},l}()},302:function(l,n,t){"use strict";function u(l){return e._22(0,[(l()(),e.Z(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),e.Y(1,278528,null,0,o.h,[e.p,e.q,e.j,e.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Z(2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.backButtonClick(t)&&u}return u},s.b,s.a)),e.Y(3,278528,null,0,o.h,[e.p,e.q,e.j,e.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Y(4,1097728,null,0,a.a,[[8,"bar-button"],i.a,e.j,e.z],null,null),(l()(),e.Z(5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),e.Y(6,278528,null,0,o.h,[e.p,e.q,e.j,e.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Y(7,147456,null,0,c.a,[i.a,e.j,e.z],{name:[0,"name"]},null),(l()(),e.Z(8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),e.Y(9,278528,null,0,o.h,[e.p,e.q,e.j,e.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e._20(10,null,["",""])),e._10(null,0),e._10(null,1),e._10(null,2),(l()(),e.Z(14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),e.Y(15,278528,null,0,o.h,[e.p,e.q,e.j,e.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e._10(null,3)],function(l,n){var t=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+t._mode);l(n,3,0,"back-button","back-button-"+t._mode);l(n,6,0,"back-button-icon","back-button-icon-"+t._mode);l(n,7,0,t._bbIcon);l(n,9,0,"back-button-text","back-button-text-"+t._mode);l(n,15,0,"toolbar-content","toolbar-content-"+t._mode)},function(l,n){var t=n.component;l(n,2,0,t._hideBb);l(n,5,0,e._11(n,7)._hidden);l(n,10,0,t._backText)})}t.d(n,"a",function(){return r}),n.b=u;var e=t(0),o=t(14),s=t(42),a=t(19),i=t(1),c=t(44),r=(t(5),t(20),e.X({encapsulation:2,styles:[],data:{}}))},303:function(l,n,t){"use strict";function u(l){return e._22(2,[(l()(),e.Z(0,0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),e.Y(1,278528,null,0,o.h,[e.p,e.q,e.j,e.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e._10(null,0)],function(l,n){l(n,1,0,"toolbar-title","toolbar-title-"+n.component._mode)},null)}t.d(n,"a",function(){return s}),n.b=u;var e=t(0),o=t(14),s=(t(1),e.X({encapsulation:2,styles:[],data:{}}))},471:function(l,n,t){"use strict";function u(l){return e._22(2,[e._18(402653184,1,{_scrollContent:0}),(l()(),e.Z(1,0,[[1,0],["scrollContent",1]],null,2,"div",[["class","scroll-content"]],null,null,null,null,null)),(l()(),e.Z(2,0,null,null,1,"div",[["class","scroll-zoom-wrapper"]],null,null,null,null,null)),e._10(null,0)],null,null)}t.d(n,"a",function(){return o}),n.b=u;var e=t(0),o=e.X({encapsulation:2,styles:[],data:{}})},771:function(l,n,t){"use strict";function u(l){return e._22(0,[e._18(402653184,1,{_searchbarInput:0}),e._18(402653184,2,{_searchbarIcon:0}),e._18(402653184,3,{_cancelButton:0}),(l()(),e.Z(3,0,null,null,8,"div",[["class","searchbar-input-container"]],null,null,null,null,null)),(l()(),e.Z(4,0,null,null,3,"button",[["class","searchbar-md-cancel"],["clear",""],["color","dark"],["ion-button",""],["mode","md"],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(l,n,t){var u=!0,e=l.component;if("click"===n){u=!1!==e.cancelSearchbar(t)&&u}if("mousedown"===n){u=!1!==e.cancelSearchbar(t)&&u}return u},o.b,o.a)),e.Y(5,1097728,null,0,s.a,[[8,""],a.a,e.j,e.z],{color:[0,"color"],mode:[1,"mode"],clear:[2,"clear"]},null),(l()(),e.Z(6,0,null,0,1,"ion-icon",[["name","md-arrow-back"],["role","img"]],[[2,"hide",null]],null,null,null,null)),e.Y(7,147456,null,0,i.a,[a.a,e.j,e.z],{name:[0,"name"]},null),(l()(),e.Z(8,0,[[2,0],["searchbarIcon",1]],null,0,"div",[["class","searchbar-search-icon"]],null,null,null,null,null)),(l()(),e.Z(9,0,[[1,0],["searchbarInput",1]],null,0,"input",[["class","searchbar-input"],["dir","auto"]],[[1,"placeholder",0],[1,"type",0],[1,"autocomplete",0],[1,"autocorrect",0],[1,"spellcheck",0]],[[null,"input"],[null,"blur"],[null,"focus"]],function(l,n,t){var u=!0,e=l.component;if("input"===n){u=!1!==e.inputChanged(t)&&u}if("blur"===n){u=!1!==e.inputBlurred()&&u}if("focus"===n){u=!1!==e.inputFocused()&&u}return u},null,null)),(l()(),e.Z(10,0,null,null,1,"button",[["class","searchbar-clear-icon"],["clear",""],["ion-button",""],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(l,n,t){var u=!0,e=l.component;if("click"===n){u=!1!==e.clearInput(t)&&u}if("mousedown"===n){u=!1!==e.clearInput(t)&&u}return u},o.b,o.a)),e.Y(11,1097728,null,0,s.a,[[8,""],a.a,e.j,e.z],{mode:[0,"mode"],clear:[1,"clear"]},null),(l()(),e.Z(12,0,[[3,0]],null,2,"button",[["class","searchbar-ios-cancel"],["clear",""],["ion-button",""],["mode","ios"],["type","button"]],[[8,"tabIndex",0]],[[null,"click"],[null,"mousedown"]],function(l,n,t){var u=!0,e=l.component;if("click"===n){u=!1!==e.cancelSearchbar(t)&&u}if("mousedown"===n){u=!1!==e.cancelSearchbar(t)&&u}return u},o.b,o.a)),e.Y(13,1097728,[["cancelButton",4]],0,s.a,[[8,""],a.a,e.j,e.z],{mode:[0,"mode"],clear:[1,"clear"]},null),(l()(),e._20(14,0,["",""]))],function(l,n){var t=n.component;l(n,5,0,"dark","md","");l(n,7,0,"md-arrow-back");l(n,11,0,t._mode,"");l(n,13,0,"ios","")},function(l,n){var t=n.component;l(n,6,0,e._11(n,7)._hidden);l(n,9,0,t.placeholder,t.type,t._autocomplete,t._autocorrect,t._spellcheck);l(n,12,0,t._isActive?1:-1);l(n,14,0,t.cancelButtonText)})}t.d(n,"a",function(){return c}),n.b=u;var e=t(0),o=t(42),s=t(19),a=t(1),i=t(44),c=(t(4),e.X({encapsulation:2,styles:[],data:{}}))}});