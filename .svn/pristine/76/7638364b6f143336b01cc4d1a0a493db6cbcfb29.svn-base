webpackJsonp([24],{156:function(t,e){function a(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id=156},182:function(t,e,a){function o(t){var e=n[t];return e?a.e(e[1]).then(function(){return a(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var n={"../pages/air-details/air-details.module.ngfactory":[263,4],"../pages/air-monitor/air-monitor.module.ngfactory":[248,9],"../pages/automatic-details/automatic-details.module.ngfactory":[246,3],"../pages/automatic-monitor/automatic-monitor.module.ngfactory":[247,8],"../pages/contact/contact.module.ngfactory":[249,20],"../pages/contaminated-details/contaminated-details.module.ngfactory":[264,2],"../pages/contaminated-monitor/contaminated-monitor.module.ngfactory":[250,7],"../pages/handle-details/handle-details.module.ngfactory":[265,1],"../pages/handle-monitor/handle-monitor.module.ngfactory":[253,6],"../pages/home/home.module.ngfactory":[266,0],"../pages/login/login.module.ngfactory":[254,22],"../pages/map/map.module.ngfactory":[267,14],"../pages/sign-in/sign-in.module.ngfactory":[256,17],"../pages/site-list/site-list.module.ngfactory":[251,15],"../pages/statistics/statistics.module.ngfactory":[252,19],"../pages/tabs/tabs.module.ngfactory":[255,23],"../pages/task-add/task-add.module.ngfactory":[258,12],"../pages/task-details/task-details.module.ngfactory":[269,18],"../pages/task-edit/task-edit.module.ngfactory":[268,11],"../pages/task-implement/task-implement.module.ngfactory":[257,10],"../pages/video/video.module.ngfactory":[259,16],"../pages/waming-details/waming-details.module.ngfactory":[261,5],"../pages/waming/waming.module.ngfactory":[262,13],"../pages/web-rtc/web-rtc.module.ngfactory":[260,21]};o.keys=function(){return Object.keys(n)},o.id=182,t.exports=o},210:function(t,e,a){"use strict";function o(t,e,a,o,n,i){return t.is("mobileweb")?new b(o,e,i):t.is("mobile")?new u.a(e,a,o,n,i):new b(o,e,i)}function n(t){return s._22(0,[s._18(402653184,1,{nav:0}),(t()(),s.Z(1,0,null,null,2,"ion-nav",[],null,null,null,E.b,E.a)),s._16(6144,null,L.a,null,[x.a]),s.Y(3,4374528,[[1,4],["myNav",4]],0,x.a,[[2,J.a],[2,j.a],R.a,U.a,W.a,s.j,s.u,s.z,s.i,q.l,G.a,[2,V.a],z.a,s.k],{root:[0,"root"]},null),(t()(),s._20(-1,null,["\n"]))],function(t,e){t(e,3,0,e.component.rootPage)},null)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(28),s=a(0),r=a(2),l=a(45),c=(a(43),a(80)),d=a(65),g=a(64),u=a(56),p=a(62),m=a(81),f=a(63),h=function(){function t(t,e,a,o,n,i,s,r,l,c,d,g,u,p){var m=this;this.platform=t,this.statusBar=e,this.splashScreen=a,this.storage=o,this.http=n,this.events=i,this.toast=s,this.ionicApp=r,this.keyboard=l,this.app=c,this.appUpdate=d,this.alerCtrl=g,this.backButtonPressed=!1,this.rootPage="TabsPage",this.rootPages=["LoginPage","HomePage","MapPage","WamingPage","StatisticsPage","ContactPage","TabsPage"],this.eventsregisterTokenErrEvent(),this.veriftyUser(),t.ready().then(function(){e.styleDefault(),m.devicePlatform=u.platform,m.platform.is("android")&&(m.statusBar.backgroundColorByHexString("#17D4CD"),m.registerBackButtonAction(),m.update()),m.platform.registerBackButtonAction(function(){c.navPop()}),a.hide()})}return t.prototype.update=function(){this.appUpdate.checkAppUpdate(l.a.domain+"/mlAPP/version.xml").then(function(t){},function(t){console.log(t)})},t.prototype.jPushListener=function(){var t=this;document.addEventListener("jpush.receiveNotification",function(e){var a;"Android"==t.devicePlatform?(a=e.alert,console.log(a)):(a=e.aps.alert,console.log(a))},!1),document.addEventListener("jpush.openNotification",function(e){var a;"Android"==t.devicePlatform?(a=e.extras,console.log(a)):void 0==e.aps?(a=e.content,console.log(a)):(a=e.aps.alert,console.log(a));var o=JSON.parse(a.police);t.alerCtrl.create({title:o.siteName,message:"<div>站点名称: "+o.siteName+"</div><div>报警时间: "+t.convertToDate(o.exceedsBidDate)+"</div><div>报警因子: "+o.pollutant+"</div><div>监测值: "+o.value+"</div><div>指标值: "+o.indexValue+"</div>",buttons:["确定"]}).present()},!1),document.addEventListener("jpush.receiveLocalNotification",function(e){var a;"Android"==t.devicePlatform||(a=e.content,console.log(a))},!1)},t.prototype.veriftyUser=function(){var t=this,e=l.b.getInstance().userInfo;e&&null!=e.code&&""!=e.code||this.storage.getItem("userInfo",function(e){if(e){l.b.getInstance().userInfo=e;var a={};a.userId=l.b.getInstance().userInfo.userId,a.code=l.b.getInstance().userInfo.code,t.http.httpGet(l.a.API.appAutoCode,a,function(t){},function(t){},!1)}else setTimeout(function(){t.nav.setRoot("LoginPage")},10)},function(){setTimeout(function(){t.nav.setRoot("LoginPage")},10)})},t.prototype.convertToDate=function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},t.prototype.registerBackButtonAction=function(){var t=this;this.platform.registerBackButtonAction(function(){if(console.log("this.keyboard.isOpen():"+t.keyboard.isOpen()),t.keyboard.isOpen())t.keyboard.close();else{var e=t.ionicApp._modalPortal.getActive()||t.ionicApp._overlayPortal.getActive(),a=t.ionicApp._loadingPortal.getActive();if(e)return e.dismiss().catch(function(){}),void e.onDidDismiss(function(){});if(!a){var o=t.nav.getActive().instance;if(o.tabs){var n=o.tabs.getSelected();return n.canGoBack()?n.pop():t.showExit()}return console.log("events go on "),console.log(t.nav.getActive()),t.rootPages.indexOf(t.nav.getActive().id)>=0?t.showExit():void 0}}},1)},t.prototype.showExit=function(){var t=this;this.backButtonPressed?this.platform.exitApp():(this.toast.create({message:"再按一次退出应用",duration:1e3,position:"bottom",cssClass:"text-align: center"}).present(),this.backButtonPressed=!0,setTimeout(function(){return t.backButtonPressed=!1},1e3))},t.prototype.eventsregisterTokenErrEvent=function(){var t=this;this.events.subscribe("tokenError150",function(){t.toast.create({message:"该帐号已在其他设备登录，请重新登录",duration:2e3,position:"bottom",cssClass:"text-align: center"}).present(),console.log("进来了"),setTimeout(function(){t.nav.setRoot("LoginPage")},10)})},t}(),y=a(136),v=a(137),_=a(53),b=function(){function t(t,e,a){this.http=t,this.loadingCtrl=e,this.events=a}return t.prototype.encode=function(t){var e="";if(t){for(var a in t)if(t.hasOwnProperty(a)){var o=t[a];e+=encodeURIComponent(a)+"="+encodeURIComponent(o)+"&"}e="?"+e.substring(0,e.length-1)}return e},t.prototype.httpPost=function(t,e,a,o,n){var i=this;void 0===n&&(n=!0);var s=this.loadingCtrl.create();n&&s.present();var r=new _.g;for(var c in e)r=r.set(c,e[c]);console.log("web_request url:"+l.a.domain+t),console.log("web_request data:"+JSON.stringify(e)),this.http.post(l.a.domain+t,r).subscribe(function(t){var e=JSON.parse(JSON.stringify(t));setTimeout(function(){switch(n&&s.dismiss(),console.log(e),e.retCode){case 200:a(e.data);break;case 150:i.events.publish("tokenError150");break;default:o(e.message)}},500)},function(t){setTimeout(function(){n&&s.dismiss(),console.log(t),o(t.message)},500)})},t.prototype.httpGet=function(t,e,a,o,n){var i=this;void 0===n&&(n=!0);var s=this.loadingCtrl.create();n&&s.present(),this.http.get(l.a.domain+t+this.encode(e)).subscribe(function(t){var e=JSON.parse(JSON.stringify(t));setTimeout(function(){switch(n&&s.dismiss(),console.log("web_respone:"+JSON.stringify(e)),e.retCode){case 200:a(e.data);break;case 150:i.events.publish("tokenError150");break;default:o(e.message)}},500)},function(t){setTimeout(function(){n&&s.dismiss(),console.log(t),o(t.message)},500)})},t.prototype.webPost=function(t,e,a,o,n){var i=this;void 0===n&&(n=!0);var s=this.loadingCtrl.create();n&&s.present();var r=new _.g;for(var l in e)r=r.set(l,e[l]);console.log("web_request url:"+t),console.log("web_request data:"+JSON.stringify(e)),this.http.post(t,r).subscribe(function(t){var e=JSON.parse(JSON.stringify(t));setTimeout(function(){switch(n&&s.dismiss(),console.log(e),e.retCode){case 200:a(e.data);break;case 150:i.events.publish("tokenError150");break;default:o(e.message)}},500)},function(t){setTimeout(function(){n&&s.dismiss(),console.log(t),o(t.message)},500)})},t}(),w=a(106),k=a(119),P=a(138),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.overrides={swipe:{velocity:.2},press:{time:.1}},e}return Object(r.__extends)(e,t),e}(i.g),N=function(){return function(){}}(),S=a(39),M=a(198),T=a(199),A=a(200),D=a(201),I=a(202),H=a(203),O=a(204),F=a(205),B=a(206),E=a(208),L=a(34),x=a(48),J=a(5),j=a(20),R=a(8),U=a(1),W=a(4),q=a(7),G=a(26),V=a(13),z=a(9),X=a(79),Y=a(58),K=a(33),Z=a(61),Q=s.X({encapsulation:2,styles:[],data:{}}),$=s.V("ng-component",h,function(t){return s._22(0,[(t()(),s.Z(0,0,null,null,1,"ng-component",[],null,null,null,n,Q)),s.Y(1,49152,null,0,h,[W.a,c.a,d.a,g.a,u.a,X.a,Y.a,S.b,K.a,R.a,p.a,Z.a,m.a,f.a],null,null)],null,null)},{},{},[]),tt=a(14),et=a(17),at=a(88),ot=a(15),nt=a(27),it=a(104),st=a(122),rt=a(51),lt=a(36),ct=a(84),dt=a(57),gt=a(112),ut=a(108),pt=a(197),mt=a(107),ft=a(25),ht=a(105),yt=a(109),vt=s.W(N,[S.b],function(t){return s._7([s._8(512,s.i,s.S,[[8,[M.a,T.a,A.a,D.a,I.a,H.a,O.a,F.a,B.a,$]],[3,s.i],s.s]),s._8(5120,s.r,s._17,[[3,s.r]]),s._8(4608,tt.l,tt.k,[s.r,[2,tt.t]]),s._8(5120,s.b,s._1,[]),s._8(5120,s.p,s._9,[]),s._8(5120,s.q,s._12,[]),s._8(4608,i.c,i.q,[tt.c]),s._8(6144,s.D,null,[i.c]),s._8(4608,i.f,C,[]),s._8(5120,i.d,function(t,e,a,o,n){return[new i.k(t,e),new i.o(a),new i.n(o,n)]},[tt.c,s.u,tt.c,tt.c,i.f]),s._8(4608,i.e,i.e,[i.d,s.u]),s._8(135680,i.m,i.m,[tt.c]),s._8(4608,i.l,i.l,[i.e,i.m]),s._8(6144,s.B,null,[i.l]),s._8(6144,i.p,null,[i.m]),s._8(4608,s.G,s.G,[s.u]),s._8(4608,i.h,i.h,[tt.c]),s._8(4608,i.i,i.i,[tt.c]),s._8(4608,_.i,_.o,[tt.c,s.w,_.m]),s._8(4608,_.p,_.p,[_.i,_.n]),s._8(5120,_.a,function(t){return[t]},[_.p]),s._8(4608,_.l,_.l,[]),s._8(6144,_.j,null,[_.l]),s._8(4608,_.h,_.h,[_.j]),s._8(6144,_.b,null,[_.h]),s._8(4608,_.f,_.k,[_.b,s.o]),s._8(4608,_.c,_.c,[_.f]),s._8(4608,et.k,et.k,[]),s._8(4608,et.c,et.c,[]),s._8(4608,at.a,at.a,[R.a,U.a]),s._8(4608,Z.a,Z.a,[R.a,U.a]),s._8(4608,X.a,X.a,[]),s._8(4608,ot.a,ot.a,[]),s._8(4608,nt.a,nt.a,[W.a]),s._8(4608,K.a,K.a,[U.a,W.a,s.u,z.a]),s._8(4608,it.a,it.a,[R.a,U.a]),s._8(5120,tt.g,st.c,[tt.r,[2,tt.a],U.a]),s._8(4608,tt.f,tt.f,[tt.g]),s._8(5120,rt.b,rt.d,[R.a,rt.a]),s._8(5120,V.a,V.b,[R.a,rt.b,tt.f,lt.b,s.i]),s._8(4608,ct.a,ct.a,[R.a,U.a,V.a]),s._8(4608,dt.a,dt.a,[R.a,U.a]),s._8(4608,gt.a,gt.a,[R.a,U.a,V.a]),s._8(4608,ut.a,ut.a,[U.a,W.a,z.a,R.a,q.l]),s._8(4608,Y.a,Y.a,[R.a,U.a]),s._8(4608,G.a,G.a,[W.a,U.a]),s._8(4608,c.a,c.a,[]),s._8(4608,d.a,d.a,[]),s._8(4608,w.a,w.a,[]),s._8(4608,k.a,k.a,[]),s._8(4608,g.a,g.a,[k.a,W.a,Y.a]),s._8(5120,u.a,o,[W.a,it.a,w.a,_.c,s.u,X.a]),s._8(4608,p.a,p.a,[]),s._8(4608,m.a,m.a,[]),s._8(4608,f.a,f.a,[]),s._8(4608,h,h,[W.a,c.a,d.a,g.a,u.a,X.a,Y.a,S.b,K.a,R.a,p.a,Z.a,m.a,f.a]),s._8(4608,v.a,v.a,[]),s._8(4608,P.a,P.a,[]),s._8(4608,l.b,l.b,[]),s._8(4608,b,b,[_.c,it.a,X.a]),s._8(4608,y.a,y.a,[]),s._8(512,tt.b,tt.b,[]),s._8(512,s.k,pt.a,[]),s._8(256,U.b,{tabsHideOnSubPages:"true",backButtonText:"",iconMode:"ios",mode:"ios",menuType:"overlay"},[]),s._8(1024,mt.a,mt.b,[]),s._8(1024,W.a,W.b,[i.b,mt.a,s.u]),s._8(1024,U.a,U.c,[U.b,W.a]),s._8(512,z.a,z.a,[W.a]),s._8(512,ft.a,ft.a,[]),s._8(512,R.a,R.a,[U.a,W.a,[2,ft.a]]),s._8(512,q.l,q.l,[R.a]),s._8(256,rt.a,{links:[{loadChildren:"../pages/automatic-details/automatic-details.module.ngfactory#AutomaticDetailsPageModuleNgFactory",name:"AutomaticDetailsPage",segment:"automatic-details",priority:"low",defaultHistory:[]},{loadChildren:"../pages/automatic-monitor/automatic-monitor.module.ngfactory#AutomaticMonitorPageModuleNgFactory",name:"AutomaticMonitorPage",segment:"automatic-monitor",priority:"low",defaultHistory:[]},{loadChildren:"../pages/air-monitor/air-monitor.module.ngfactory#AirMonitorPageModuleNgFactory",name:"AirMonitorPage",segment:"air-monitor",priority:"low",defaultHistory:[]},{loadChildren:"../pages/contact/contact.module.ngfactory#ContactPageModuleNgFactory",name:"ContactPage",segment:"contact",priority:"low",defaultHistory:[]},{loadChildren:"../pages/contaminated-monitor/contaminated-monitor.module.ngfactory#ContaminatedMonitorPageModuleNgFactory",name:"ContaminatedMonitorPage",segment:"contaminated-monitor",priority:"low",defaultHistory:[]},{loadChildren:"../pages/site-list/site-list.module.ngfactory#SiteListPageModuleNgFactory",name:"SiteListPage",segment:"site-list",priority:"low",defaultHistory:[]},{loadChildren:"../pages/statistics/statistics.module.ngfactory#StatisticsPageModuleNgFactory",name:"StatisticsPage",segment:"statistics",priority:"low",defaultHistory:[]},{loadChildren:"../pages/handle-monitor/handle-monitor.module.ngfactory#HandleMonitorPageModuleNgFactory",name:"HandleMonitorPage",segment:"handle-monitor",priority:"low",defaultHistory:[]},{loadChildren:"../pages/login/login.module.ngfactory#LoginPageModuleNgFactory",name:"LoginPage",segment:"login",priority:"low",defaultHistory:[]},{loadChildren:"../pages/tabs/tabs.module.ngfactory#TabsPageModuleNgFactory",name:"TabsPage",segment:"tabs",priority:"low",defaultHistory:[]},{loadChildren:"../pages/sign-in/sign-in.module.ngfactory#SignInPageModuleNgFactory",name:"SignInPage",segment:"sign-in",priority:"low",defaultHistory:[]},{loadChildren:"../pages/task-implement/task-implement.module.ngfactory#TaskImplementPageModuleNgFactory",name:"TaskImplementPage",segment:"task-implement",priority:"low",defaultHistory:[]},{loadChildren:"../pages/task-add/task-add.module.ngfactory#TaskAddPageModuleNgFactory",name:"TaskAddPage",segment:"task-add",priority:"low",defaultHistory:[]},{loadChildren:"../pages/video/video.module.ngfactory#VideoPageModuleNgFactory",name:"VideoPage",segment:"video",priority:"low",defaultHistory:[]},{loadChildren:"../pages/web-rtc/web-rtc.module.ngfactory#WebRtcPageModuleNgFactory",name:"WebRtcPage",segment:"web-rtc",priority:"low",defaultHistory:[]},{loadChildren:"../pages/waming-details/waming-details.module.ngfactory#WamingDetailsPageModuleNgFactory",name:"WamingDetailsPage",segment:"waming-details",priority:"low",defaultHistory:[]},{loadChildren:"../pages/waming/waming.module.ngfactory#WamingPageModuleNgFactory",name:"WamingPage",segment:"waming",priority:"low",defaultHistory:[]},{loadChildren:"../pages/air-details/air-details.module.ngfactory#AirDetailsPageModuleNgFactory",name:"AirDetailsPage",segment:"air-details",priority:"low",defaultHistory:[]},{loadChildren:"../pages/contaminated-details/contaminated-details.module.ngfactory#ContaminatedDetailsPageModuleNgFactory",name:"ContaminatedDetailsPage",segment:"contaminated-details",priority:"low",defaultHistory:[]},{loadChildren:"../pages/handle-details/handle-details.module.ngfactory#HandleDetailsPageModuleNgFactory",name:"HandleDetailsPage",segment:"handle-details",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/home.module.ngfactory#HomePageModuleNgFactory",name:"HomePage",segment:"home",priority:"low",defaultHistory:[]},{loadChildren:"../pages/map/map.module.ngfactory#MapPageModuleNgFactory",name:"MapPage",segment:"map",priority:"low",defaultHistory:[]},{loadChildren:"../pages/task-edit/task-edit.module.ngfactory#TaskEditPageModuleNgFactory",name:"TaskEditPage",segment:"task-edit",priority:"low",defaultHistory:[]},{loadChildren:"../pages/task-details/task-details.module.ngfactory#TaskDetailsPageModuleNgFactory",name:"TaskDetailsPage",segment:"task-details",priority:"low",defaultHistory:[]}]},[]),s._8(512,s.h,s.h,[]),s._8(512,ht.a,ht.a,[s.h]),s._8(1024,lt.b,lt.c,[ht.a,s.o]),s._8(1024,s.c,function(t,e,a,o,n,s,r,l,c,d,g,u,p){return[i.s(t),yt.a(e),X.b(a,o),ut.b(n,s,r,l,c),lt.d(d,g,u,p)]},[[2,s.t],U.a,W.a,z.a,U.a,W.a,z.a,R.a,q.l,U.a,rt.a,lt.b,s.u]),s._8(512,s.d,s.d,[[2,s.c]]),s._8(131584,s.f,s.f,[s.u,s.T,s.o,s.k,s.i,s.d]),s._8(512,s.e,s.e,[s.f]),s._8(512,i.a,i.a,[[3,i.a]]),s._8(512,_.e,_.e,[]),s._8(512,_.d,_.d,[]),s._8(512,et.j,et.j,[]),s._8(512,et.d,et.d,[]),s._8(512,et.i,et.i,[]),s._8(512,st.a,st.a,[]),s._8(512,N,N,[]),s._8(256,_.m,"XSRF-TOKEN",[]),s._8(256,_.n,"X-XSRF-TOKEN",[]),s._8(256,S.a,h,[]),s._8(256,tt.a,"/",[])])});Object(s.M)(),Object(i.j)().bootstrapModuleFactory(vt)},45:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});a(2);var o=a(229),n=(a.n(o),function(){function t(){}return t.cache={slides:"_dress_slides",categories:"_dress_categories",products:"_dress_products"},t.domain="http://218.75.181.68:8306",t.API={login:"/api/sys/applogin",appAutoCode:"/api/sys/appAutoCode",logout:"/api/sys/logout",getDataByStandard:"/api/home/getDataByStandard",getDataByState:"/api/home/getDataByState",getSiteTree:"/api/comment/getSiteTree",getListAlert:"/api/alert/getListAlert",getAirData:"/api/statistics/getAirData",getPolluteWaterData:"/api/statistics/getPolluteWaterData",getPolluteData:"/api/statistics/getPolluteData  ",getWaterData:"/api/statistics/getWaterData",getTaskList:"/api/task/getTaskList",upload:"/api/task/upload",deleteImg:"/api/task/deleteImg",getUserList:"/api/comment/getUserList",getHandler:"/api/task/getHandler",saveTask:"/api/task/saveTask",updateTaskById:"/api/task/updateTaskById",getMapData:"/api/map/getMapData",querySiteInfo:"/api/map/querySiteInfo",getSiteList:"/api/comment/getSiteList",clearVideo:"https://open.ys7.com/api/lapp/device/ptz/stop",changeVideoDirection:"https://open.ys7.com/api/lapp/device/ptz/start"},t.RETURNCODE={succeed:200},t}()),i=function(){function t(){this.userInfo={username:"",password:"",userId:"",code:"",role:""},this.spleTeam="",this.teamMember=""}return e=t,t.getInstance=function(){return e.instance},t.instance=new e,t;var e}()},56:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a(2),a(106);var o=a(45),n=(a(43),function(){function t(t,e,a,o,n){this.loadingCtrl=t,this.http=e,this.httpClient=a,this.zone=o,this.events=n}return t.prototype.encode=function(t){var e="";if(t){for(var a in t)if(t.hasOwnProperty(a)){var o=t[a];e+=encodeURIComponent(a)+"="+encodeURIComponent(o)+"&"}e="?"+e.substring(0,e.length-1)}return e},t.prototype.httpPost=function(t,e,a,n,i){var s=this;void 0===i&&(i=!0),console.log("app_post:"+o.a.domain+t+"--\x3e"+JSON.stringify(e));var r=this.loadingCtrl.create();i&&r.present(),this.http.post(o.a.domain+t,e,{}).then(function(t){if(i&&r.dismiss(),t.data){var e=JSON.parse(t.data);switch(e.retCode){case 200:a(e.data);break;case 150:s.events.publish("tokenError150");break;default:n(e.message)}}}).catch(function(t){i&&r.dismiss(),n(t)})},t.prototype.httpGet=function(t,e,a,n,i){var s=this;void 0===i&&(i=!0),console.log("app_Get:"+t+"--\x3e"+JSON.stringify(e));var r=this.loadingCtrl.create();i&&r.present(),this.http.get(o.a.domain+t+this.encode(e),null,{}).then(function(t){if(i&&r.dismiss(),t.data){var e=JSON.parse(t.data);switch(e.retCode){case 200:a(e.data);break;case 150:s.events.publish("tokenError150");break;default:n(e.message)}}}).catch(function(t){i&&r.dismiss(),n(t)})},t.prototype.webPost=function(t,e,a,o,n){var i=this;void 0===n&&(n=!0),console.log("app_post:"+t+"--\x3e"+JSON.stringify(e));var s=this.loadingCtrl.create();n&&s.present(),this.http.post(t,e,{}).then(function(t){if(n&&s.dismiss(),t.data){var e=JSON.parse(t.data);switch(e.retCode){case 200:a(e.data);break;case 150:i.events.publish("tokenError150");break;default:o(e.message)}}}).catch(function(t){n&&s.dismiss(),o(t)})},t.prototype.webGet=function(t,e,a,o,n){void 0===n&&(n=!0);var i=this.loadingCtrl.create();n&&i.present();var s=e.ACTION_NAME.replace("|","");this.httpClient.get("assets/data/"+s+".json").subscribe(function(t){setTimeout(function(){n&&i.dismiss();var e=t.toString().replace(/("([^\\\"]*(\\.)?)*")|('([^\\\']*(\\.)?)*')|(\/{2,}.*?(\r|\n))|(\/\*(\n|.)*?\*\/)/g,function(t){return/^\/{2,}/.test(t)||/^\/\*/.test(t)?"":t});a(e)},1e3)},function(t){setTimeout(function(){n&&i.dismiss(),console.log(t),o(t.message)},1e3)})},t}())},64:function(t,e,a){"use strict";a.d(e,"a",function(){return o});a(2),a(43),a(119);var o=function(){function t(t,e,a){this.storage=t,this.platform=e,this.toastController=a,this.webFlag=!!e.is("mobileweb")||!e.is("mobile")}return t.prototype.clrar=function(){this.webFlag?window.localStorage.clear():this.storage.clear()},t.prototype.getItem=function(t,e,a){if(this.webFlag){var o=window.localStorage.getItem(t);console.log(o),o?e(JSON.parse(o)):(console.log("###########"),e(o))}else this.storage.getItem(t).then(function(t){e(t?JSON.parse(t):t)},function(t){a(),console.log("storage:"+t)})},t.prototype.keys=function(t){if(this.webFlag){for(var e=[],a=0;a<window.localStorage.length;a++){var o=window.localStorage.key(a);e.push(o)}t(e)}else this.storage.keys().then(function(e){t(e)},function(t){})},t.prototype.remove=function(t){this.webFlag?window.localStorage.removeItem(t):this.storage.remove(t)},t.prototype.setItem=function(t,e){e=JSON.stringify(e),this.webFlag?window.localStorage.setItem(t,e):this.storage.setItem(t,e)},t.prototype.popToastView=function(t,e){this.toastController.create({message:t,position:"middle",duration:e,showCloseButton:!0,closeButtonText:"关闭"}).present()},t}()}},[210]);